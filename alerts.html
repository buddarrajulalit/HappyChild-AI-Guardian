<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <title>HappyChild Alerts</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
    h2 { color: #2c3e50; }
    #alerts { margin-top: 20px; padding: 10px; border: 1px solid #ccc; background: #fff; }
    .alert { padding: 8px; margin: 5px 0; border-radius: 4px; background: #ffefef; border: 1px solid #e74c3c; color: #c0392b; }
  </style>
</head>
<body>
  <h2>🔔 Live Alerts</h2>
  <div id='alerts'></div>
  <script>
    const alertsDiv = document.getElementById('alerts');
    const socket = new WebSocket('ws://127.0.0.1:8000/ws/alerts');
    socket.onopen = () => {
      console.log('Connected to WebSocket server ✅');
    };
    socket.onmessage = (event) => {
      const alertBox = document.createElement('div');
      alertBox.className = 'alert';
      alertBox.innerText = event.data;
      alertsDiv.prepend(alertBox);
    };
    socket.onclose = () => {
      console.log('Disconnected ❌');
    };
  </script>
</body>
</html>
